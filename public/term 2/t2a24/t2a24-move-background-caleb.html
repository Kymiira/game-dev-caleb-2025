<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Minimal CSS Scroller Demo</title>
  <style>
    :root{
      --w: 900px;
      --h: 520px;

      /* Core: background scroll speed + distance */
      --scroll-speed: 12s;       /* lower = faster */
      --scroll-distance: 1024px; /* how far one loop moves */
    }

    * { box-sizing: border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background:#0b0f1a;
      color:#fff;
      font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    /* Centered game frame */
    .game{
      width: min(var(--w), calc(100vw - 32px));
      height: min(var(--h), calc(100vh - 32px));
      border:2px solid #000;
      overflow:hidden;
      position:relative;
      background:#87ceeb;
    }

    /* Moving background layer (CSS-only) */
    .bg{
      position:absolute;
      inset:0;
      z-index:0;

      /* Use your image here; keep repeat-x for endless scroll */
      background-image: url("../t2a25/BackgroundImg.png");
      background-repeat: repeat-x;
      background-position: 0 0;
      background-size: auto 100%;

      /* If your image path isn’t available, comment out the line above and
         uncomment this gradient fallback:
      background-image:
        linear-gradient(#87ceeb 0 60%, #9fe0ff 60% 61%, #87ceeb 61% 100%),
        repeating-linear-gradient(90deg, rgba(255,255,255,.22) 0 20px, rgba(255,255,255,0) 20px 60px);
      */

      animation: bgScroll var(--scroll-speed) linear infinite;
      will-change: background-position;
    }

    /* Optional second layer for a subtle parallax feel (also CSS-only) */
    .bg::after{
      content:"";
      position:absolute;
      inset:0;
      background-repeat: repeat-x;
      background-position: 0 0;
      background-size: auto 100%;
      opacity:.35;

      /* Same image, slower to simulate depth */
      background-image: url("../t2a25/BackgroundImg.png");
      animation: bgScroll calc(var(--scroll-speed) * 1.8) linear infinite;
      filter: blur(0.2px);
    }

    @keyframes bgScroll{
      from { background-position: 0 0; }
      to   { background-position: calc(-1 * var(--scroll-distance)) 0; }
    }

    /* Foreground playfield */
    .hud{
      position:absolute;
      inset:0 auto auto 0;
      padding:8px 10px;
      z-index:3;
      font-size:14px;
      background:rgba(0,0,0,.35);
      border-bottom-right-radius:10px;
      user-select:none;
    }

    .hint{
      position:absolute;
      right:10px;
      top:10px;
      z-index:3;
      font-size:12px;
      opacity:.9;
      background:rgba(0,0,0,.35);
      padding:8px 10px;
      border-radius:10px;
      user-select:none;
    }

    .ground{
      position:absolute;
      left:0;
      right:0;
      bottom:0;
      height:64px;
      z-index:2;
      background:linear-gradient(#2b2b2b, #121212);
      border-top:2px solid rgba(0,0,0,.6);
    }

    .player{
      position:absolute;
      width:42px;
      height:42px;
      left:80px;
      bottom:64px;
      z-index:2;
      background:linear-gradient(#ffd34d, #f29b1a);
      border:2px solid rgba(0,0,0,.6);
      border-radius:10px;
      box-shadow:0 6px 0 rgba(0,0,0,.25);
      transform: translateX(var(--px, 0px));
      transition: transform 80ms linear;
    }

    /* Pause animation when user toggles */
    .paused .bg,
    .paused .bg::after{
      animation-play-state: paused;
    }
  </style>
</head>
<body>
  <div class="game" id="game">
    <div class="bg" aria-hidden="true"></div>

    <div class="hud" id="hud">BG speed: <span id="speedLabel">12s</span> (space = pause)</div>
    <div class="hint">← / → to move box<br>↑ / ↓ to change speed</div>

    <div class="player" id="player"></div>
    <div class="ground"></div>
  </div>

  <script>
    // Minimal JS: optional player movement + live control of CSS background speed.
    const game = document.getElementById("game");
    const player = document.getElementById("player");
    const speedLabel = document.getElementById("speedLabel");

    const keys = Object.create(null);
    let px = 0;

    // Match the CSS default
    let speedSeconds = 12;

    function setSpeed(seconds){
      speedSeconds = Math.max(2, Math.min(40, seconds));
      game.style.setProperty("--scroll-speed", speedSeconds + "s");
      speedLabel.textContent = speedSeconds + "s";
    }

    addEventListener("keydown", (e) => {
      const k = e.key.toLowerCase();
      keys[k] = true;

      if (k === " "){ // pause toggle
        game.classList.toggle("paused");
        e.preventDefault();
      }
      if (k === "arrowup") setSpeed(speedSeconds - 1);
      if (k === "arrowdown") setSpeed(speedSeconds + 1);
    });

    addEventListener("keyup", (e) => {
      keys[e.key.toLowerCase()] = false;
    });

    function loop(){
      const left = keys["arrowleft"];
      const right = keys["arrowright"];

      if (left) px -= 6;
      if (right) px += 6;

      // clamp inside frame
      const max = game.clientWidth - 42 - 20;
      px = Math.max(0, Math.min(max, px));
      player.style.setProperty("--px", px + "px");

      requestAnimationFrame(loop);
    }

    setSpeed(speedSeconds);
    loop();
  </script>
</body>
</html>
