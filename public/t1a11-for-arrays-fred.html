<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>T1a11</title>
	<style>
		{font-family: "Century Gothic", CenturyGothic, Geneva, AppleGothic, sans-serif;}
	</style>
</head>
<body>
	<!-- header -->
	<section>
	<h1 align=center>t1a11-for-arrays-caleb</h1>
	<ul>
		<li><p>I'm going to try to do this assignment in a different format, using &lt;section&gt; and &lt;details&gt; tags to...</p> 
		<li><p>... seperate the different examples in both the source and the webpage itself
		<li><p> P.S: you can use 'at l t semicolon' and 'at g t semicolon' to utilize closed and open tags due to them being an accessible HTML entity code, pretty cool huh?</p>
	</ul>
	</section>
	<!-- given example -->
	<section>
		<details>
			<summary>Example Array</summary>
			<script>
				let myExample01 = new Array()
				myExample01[0] = 'Fred'
				myExample01[1] = 'Mary'
				myExample01[2] = 'Zizzy'
			</script>
			Max Array Entry: <input type=text id="myExText01" value="3"><br>
			<input type=button value="Example onClick" onClick="{
				let myMax = document.getElementById('myExText01').value
				let mySum = ''
				document.getElementById('myExDiv01').innerHTML = ' '
				
				for (let myLoop=0;  myLoop < myMax; myLoop++){
					mySum += 'Loop #:' + myLoop + ' array entry: ' + myExample01[myLoop] + ' <br>'
				}
				document.getElementById('myExDiv01').innerHTML = mySum
				console.log('printed' + ' ' + myExample01[0])
				console.log('printed' + ' ' + myExample01[1])
				console.log('printed' + ' ' + myExample01[2])
			}">
			
			<div id="myExDiv01">...</div>
			
			
			<br>
		</details><br>
	</section>
	<!-- my stuff -->
	<section>
		<details open>
			<summary>Expense Calculator</summary>
			<h2 align=center>This calculator will serve multiple functions, it will help you calculate your income, your expenses, and the difference between your income and expenses.</h2>
			<br><br>
			<div 
			id="myMoneyCalculatorOutputDiv01"
			>
				<p>Output:</p>
				<output id="myMoneyCalcOutput01"></output>
				<input id="myClearButton01" type=button value="Clear" onclick="Clear()"><br>
			</div><br>
			<div
			id="myMoneyCalculatorInputDiv01"
			>
				<p>please enter your income and expense values with no - or + signs, seperated by spaces, commas, or commas + spaces for each value. The difference calculation can ONLY be run once both income and expense have been ran.</p>
				<input type=numbers id="myIncome01" placeholder="Seperate Values Via Space or Comma (ex: 1,2 | ex: 1 2)"> 
				<input id="mySubmitButton01" type=button value="Income calc" onclick="Income()"><br><br>
				<input type=numbers id="myExpense01" placeholder="Insert Values Via Space or Comma (ex: -1,-2 | ex: -1 -2)"> 
				<input id="mySubmitButton02" type=button value="Expenses calc" onclick="Expenses()"><br><br>
				<span id="myDifference01">Difference Input Display</span>
				<input id="mySubmitButton03" type=button value="Difference calc" onclick="Difference()"><br><br>



			</div>
			<script>
				// The Inputs
				let myIncomeInput = document.getElementById('myIncome01');
				let myExpenseInput = document.getElementById('myExpense01');
				let myDifferenceDisplay = document.getElementById('myDifference01');
				// The Submits
				let myIncome = document.getElementById('mySubmitButton01');
				let myExpenses = document.getElementById('mySubmitButton02');
				let myDifference = document.getElementById('mySubmitButton03');
				// The Output
				let myOutput = document.getElementById('myMoneyCalcOutput01');
				// The Variables
				let myCalc = new Array();
				let myIncomeValue = 0;
				let myExpenseValue = 0;
				
				function Income() { // uses array as a storage to be able to add all values together
					let incomeString = myIncomeInput.value;
					
					myCalc = new Array();
					myIncomeValue = 0;
					
					let incomeStringArray = incomeString.split(/[\s,]+/);
					let totalEntries = 0;
					
					for (let i = 0; i < incomeStringArray.length; i++) {
						let amount = parseFloat(incomeStringArray[i].trim());
						
						if (isNaN(amount) || amount <0) {
							myOutput.textContent = `Invalid Entry Found: "${incomeStringArray[i].trim()}". Please use valid numbers separated by commas.`;
							myCalc = new Array();
							myincomeValue = 0;
							return;
						}
						myIncomeValue += amount;
						myCalc.push(amount);
						totalEntries++;
					}
				
				myOutput.textContent = `Total Income (from ${totalEntries} entries): $${myIncomeValue.toFixed(2)}`;
				myIncomeInput.value = '';
				DifferenceDisplay(myIncomeValue, myExpenseValue);
				console.log("Income Success")
				}
				
				function Expenses() { // uses array as a storage to be able to add all values together
					let expenseString = myExpenseInput.value;
					
					myCalc = new Array();
					myExpenseValue = 0;
					
					let expenseStringArray = expenseString.split(/[\s,]+/).filter(Boolean);
					
					let totalEntries = 0;
					
					for (let i = 0; i < expenseStringArray.length; i++) {
						let amount = parseFloat(expenseStringArray[i]);
						if (isNaN(amount) || amount === 0) {
							myOutput.textContent = `Invalid expense entry found: "${expenseStringArray[i]}". Please use valid numbers.`;
							
							myCalc = new Array();
							myExpenseValue = 0;
							return;
						}
						let negativeAmount = Math.abs(amount) * -1;
						
						myExpenseValue += negativeAmount;
						myCalc.push(negativeAmount);
						
						totalEntries++;
					}
					myOutput.textContent = `Total Expenses (from ${totalEntries} entries) : $${myExpenseValue.toFixed(2)}`;
					
					myExpenseInput.value = '';
					DifferenceDisplay(myIncomeValue, myExpenseValue);
					console.log("Expense Success")
				}
				
				function Difference() { // does not use the array, instead just adds the values from both income and expense variables.
					let IncomeNum = myIncomeValue;
					let ExpenseNum = myExpenseValue;
					
					let DifferenceValue = IncomeNum + ExpenseNum;
					
					DifferenceDisplay(IncomeNum, ExpenseNum);
					
					if (IncomeNum === 0 && ExpenseNum === 0) {
						myOutput.textContent = "Please submit income and/or expense values first.";
					} else {
						myOutput.textContent = `Final Balance: \$${DifferenceValue.toFixed(2)}`;
					}
					console.log("Difference Success")
				}
				
				function Clear() { // literally just clears all areas via the "clear" button
					myOutput.textContent = '';
					myCalc = new Array();
					myIncomeValue = 0;
					myExpenseValue = 0;
					console.log("Clear Success");
				}
				
				function DifferenceDisplay(income, expense) { // will set the difference display to display the string "'myIncomeValue' + 'myExpenseValue'"
					let incomeStr = (income === 0 || isNaN(income))
						? '---'
						: `\$${income.toFixed(2)}`;
					
					let expenseAbsNum = Math.abs(expense);
					let expenseStr = (expenseAbsNum === 0 || isNaN(expense))
						? '___'
						: `~\$${expenseAbsNum.toFixed(2)}`;
					
					let finalOperationOutput = `${incomeStr} + ${expenseStr}`;
					console.log("final output calculated");
					
					myDifferenceDisplay.textContent = finalOperationOutput;
					console.log("DifferenceDisplay Success");
				}
			</script>
			
		</details><br>
	</section>
</body>
</html>
